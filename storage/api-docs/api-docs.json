{"openapi":"3.0.0","info":{"title":"Hotel API","contact":{"name":"Leonardo Oliveira","email":"leo.oliveira8@gmail.com"},"version":"1.0"},"paths":{"\/api\/auth\/login":{"post":{"tags":["Authentication"],"summary":"Handle a login request to the application.","description":"Login by user_name and password","operationId":"8b1ca12fe82a8104a6fbb70f5e149956","requestBody":{"description":"Pass user credentials","required":true,"content":{"application\/json":{"schema":{"required":["user_name","password"],"properties":{"user_name":{"type":"string","example":"camareira"},"password":{"type":"string","format":"password","example":"1234"}},"type":"object"}}}},"responses":{"200":{"description":"Authenticated token","content":{"application\/json":{"schema":{"properties":{"token":{"type":"string","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0L2FwaS9hdXRoL2xvZ2luIiwiaWF0IjoxNjM1NDU5NzM3LCJleHAiOjE2MzU0NjMzMzcsIm5iZiI6MTYzNTQ1OTczNywianRpIjoiVXozanpUeElNNnJBSDJCSiIsInN1YiI6MiwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyJ9.TWsfFNrcU4dFGnbNyNbudzQSwdCknOKGrImic5BROtw"}},"type":"object"}}}}}}},"\/api\/cleaning":{"get":{"tags":["Cleaning"],"summary":"Get list of all rooms on cleaning process, desconsider status","responses":{"200":{"description":"Return List of all rooms"}},"security":[{"JWT":[]}]},"post":{"tags":["Cleaning"],"summary":"Save room to clean on database","operationId":"3e7830360574ccfa184f8dbaff058d74","requestBody":{"description":"Room to insert in database","required":true,"content":{"application\/json":{"schema":{"required":["room_number","manager_id","employee_id"],"properties":{"room_number":{"type":"integer","example":"101"},"manager_id":{"type":"integer","example":"2"},"employee_id":{"type":"integer","example":"3"}},"type":"object"}}}},"responses":{"201":{"description":"Created"},"400":{"description":"Not Allowed, cleaning already exists"},"404":{"description":"Not found, room maybe it doesn't exist"}},"security":[{"JWT":[]}]}},"\/api\/cleaning\/status\/{status}":{"get":{"tags":["Cleaning"],"summary":"Get list of all rooms on cleaning process by status","operationId":"8d498f6f3f0bc01927a1ccd27dedd8bc","parameters":[{"name":"status","in":"path","description":"Status to search","required":true,"schema":{"type":"string","enum":["to-clean","cleaning","clean"]}}],"responses":{"200":{"description":"Return List of all rooms"}},"security":[{"JWT":[]}]}},"\/api\/cleaning\/{number}":{"get":{"tags":["Cleaning"],"summary":"Get information of a room on cleaning process","operationId":"64d67400218b9213bc70bd6edf3fb86c","parameters":[{"name":"number","in":"path","description":"Number of room to show","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Return List of all rooms"}},"security":[{"JWT":[]}]}},"\/api\/cleaning\/{id}":{"put":{"tags":["Cleaning"],"summary":"Update room to clean on data base","operationId":"d741a6b6af8991ffaf23db7cca3d6c1f","parameters":[{"name":"id","in":"path","description":"Id of the cleaning register on database","required":true,"schema":{"type":"integer"}}],"requestBody":{"description":"Data to the room","required":false,"content":{"application\/x-www-form-urlencoded":{"schema":{"properties":{"room_number":{"type":"integer","example":"101"},"manager_id":{"type":"integer","example":"2"},"employee_id":{"type":"integer","example":"3"},"status":{"type":"string","example":"clean"},"cleaning_date":{"type":"date","example":"2021-11-02 18:14:18"}},"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/cleaning\/delete\/{id}":{"delete":{"tags":["Cleaning"],"summary":"Delete a room on cleaning process","operationId":"0970d055fd0c2ff0e2203307a76e1a7c","parameters":[{"name":"id","in":"path","description":"Id of process clean on database","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Room deleted.","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/cleaning\/start\/{id}":{"put":{"tags":["Cleaning"],"summary":"Update room status to cleaning","operationId":"0f078bc9f605817ae158d565a57e3b4a","parameters":[{"name":"id","in":"path","description":"Id of cleaning process on data base","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/cleaning\/completed\/{id}":{"put":{"tags":["Cleaning"],"summary":"Update room status to completed","operationId":"f647120326be13ca70229a8b87d79324","parameters":[{"name":"id","in":"path","description":"Id of cleaning process on data base","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/clients\/list":{"get":{"tags":["Clients"],"summary":"Get list of all clients","responses":{"200":{"description":"Return List of all clients"}},"security":[{"JWT":[]}]},"post":{"tags":["Clients"],"summary":"Save list of client on database","operationId":"ff4e4e477d9ad9e455b4f78533e53b69","requestBody":{"description":"List of clients to insert on database","required":true},"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"\/api\/clients\/{id}":{"get":{"tags":["Clients"],"summary":"Get client data by id.","operationId":"c201e2599ef60d254190996a7d5b8cff","parameters":[{"name":"id","in":"path","description":"User id from client","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Rooms information.","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/clients\/status\/{status}":{"get":{"tags":["Clients"],"summary":"Get list of all clients by status","operationId":"abfa47c54a0478e0130347d9d82c5955","parameters":[{"name":"status","in":"path","description":"Status to search","required":true,"schema":{"type":"string","enum":["blocked","unlocked"]}}],"responses":{"200":{"description":"Return List of all rooms"}},"security":[{"JWT":[]}]}},"\/api\/clients":{"post":{"tags":["Clients"],"summary":"Save single client on database","operationId":"86591bd227cd2855a2860bbcc3e7f24e","requestBody":{"description":"Client to insert on database","required":true,"content":{"application\/json":{"schema":{"required":["full_name","cpf","gender","status","registration_date"],"properties":{"full_name":{"type":"string","example":"Erico Verissimo"},"email":{"type":"e-mail","example":"a@a.com"},"cpf":{"type":"string","example":"17966177092"},"rg":{"type":"string","example":"462748066"},"gender":{"type":"string","example":"M"},"status":{"type":"boolean","example":"1"},"registration_date":{"type":"date-time","example":"2021-10-31 17:12:52"},"address":{"type":"string","example":"Rua a"},"number":{"type":"string","example":"1234"},"complement":{"type":"string","example":"bloco a"},"city":{"type":"string","example":"Porto Alegre"},"state":{"type":"string","example":"RS"},"country":{"type":"string","example":"Brasil"},"zip_code":{"type":"string","example":"80657222"},"phone_numbers":{"type":"string|array","example":"9632586,365236,36523,36523"}},"type":"object"}}}},"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"\/api\/payment\/reservation\/{id}":{"get":{"tags":["Payment"],"summary":"Get payment from reservation id","operationId":"f9a9f05a30f5372f826d2b856a24dda5","parameters":[{"name":"id","in":"path","description":"ID of reservation to show","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Return payment"}},"security":[{"JWT":[]}]}},"\/api\/payment\/client\/{id}":{"get":{"tags":["Payment"],"summary":"Get payment from client id","operationId":"3df111ca1a0823808066f0cae6a7f55d","parameters":[{"name":"id","in":"path","description":"ID of client to show","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Return payment"}},"security":[{"JWT":[]}]}},"\/api\/payment\/{status}":{"get":{"tags":["Payment"],"summary":"Get list of payments by status","operationId":"13e884f6ca9bd4c61775f80826f4f252","parameters":[{"name":"status","in":"path","description":"Status to search","required":true,"schema":{"type":"string","enum":["pending","paid"]}}],"responses":{"200":{"description":"Return List of all rooms"}},"security":[{"JWT":[]}]}},"\/api\/pay\/{id}":{"get":{"tags":["Payment"],"summary":"Get payment url (pagseguro) by id of payment ","operationId":"1a4f272c31de11bf4060ad52c46ff596","parameters":[{"name":"id","in":"path","description":"ID of reservation to show","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Return payment"}},"security":[{"JWT":[]}]}},"\/api\/pay":{"put":{"tags":["Payment"],"summary":"Update payment information","operationId":"f41da933ae9e1e672376040af739ff55","requestBody":{"description":"Data to payment","required":true,"content":{"application\/x-www-form-urlencoded":{"schema":{"properties":{"id":{"type":"integer","example":"8"},"client_id":{"type":"integer","example":"1"},"reservation_id":{"type":"integer","example":"1"},"room_number":{"type":"integer","example":"101"},"date_start":{"type":"date-time","example":"31\/10\/2021 17:12:52"},"date_end":{"type":"date-time","example":"31\/10\/2021 17:12:52"},"pay_date":{"type":"date-time","example":"10\/10\/2021 04:12:52"},"pay_code":{"type":"string","example":"9272B7ECB4B4284BB4479F90D676DB21"},"price":{"type":"double","example":"200.2"},"status":{"description":"pending, paid","type":"string","example":"checkOut"},"description":{"type":"string","example":"2 beds and 1 bathroom"}},"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/reservation":{"get":{"tags":["Reservation"],"summary":"Get list of all Reservations","responses":{"200":{"description":"Return List of all reservations"}},"security":[{"JWT":[]}]},"post":{"tags":["Reservation"],"summary":"Make reservation","operationId":"f42c730b6d1424916d103d60a668d17f","requestBody":{"description":"Make reservation","required":true,"content":{"application\/json":{"schema":{"required":["client_id","room_number","date_start","date_end"],"properties":{"client_id":{"type":"number","example":"8"},"room_number":{"type":"number","example":"101"},"date_start":{"type":"date","example":"21\/11\/2021 00:00:00"},"date_end":{"type":"date","example":"22\/11\/2021 17:00:00"}},"type":"object"}}}},"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"\/api\/reservation\/{id}":{"get":{"tags":["Reservation"],"summary":"Get data from reservation id.","operationId":"2c6fe5b962929d6b475f59ede10b52bb","parameters":[{"name":"id","in":"path","description":"ID of reservation to show","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Rooms information.","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]},"put":{"tags":["Reservation"],"summary":"Update reservation information","operationId":"7c98bfc29a5347ca4bf179e34761e16e","parameters":[{"name":"id","in":"path","description":"Id from reservation","required":true,"schema":{"type":"number"}}],"requestBody":{"description":"Data to reservation","required":true,"content":{"application\/x-www-form-urlencoded":{"schema":{"properties":{"client_id":{"type":"integer","example":"8"},"room_number":{"type":"integer","example":"101"},"date_start":{"type":"date-time","example":"10\/10\/2021 00:00:00"},"date_end":{"type":"date-time","example":"31\/10\/2021 17:12:52"},"check_in":{"type":"date-time","example":"10\/10\/2021 04:12:52"},"check_out":{"type":"date-time","example":"31\/10\/2021 17:00:00"},"price":{"type":"double","example":"200.2"},"status":{"description":"free, reserved,\r\n                                                                            checkIn,  checkOut","type":"string","example":"checkOut"}},"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/reservation\/client\/{client_id}":{"get":{"tags":["Reservation"],"summary":"Get data from reservation from expecific user.","operationId":"816f1d8fb8a40d0f50806e2e1be9aa69","parameters":[{"name":"client_id","in":"path","description":"ID of user to show","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Rooms information.","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/reservation\/{id}\/{status}":{"put":{"tags":["Reservation"],"summary":"Update reservation status","operationId":"c72498387ac358824a112272c739ad05","parameters":[{"name":"id","in":"path","description":"id of reservation","required":true,"schema":{"type":"number"}},{"name":"status","in":"path","description":"Status to update","required":true,"schema":{"type":"string","enum":["free","reserved","checkIn","checkOut"]}}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/reservation\/delete\/{id}":{"delete":{"tags":["Reservation"],"summary":"Delete a Reservation","operationId":"29c0f62b7b738f27398fb3a69768cb3c","parameters":[{"name":"id","in":"path","description":"Id of reservation to delete","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Reservation deleted.","content":{"application\/json":{"schema":{}}}},"404":{"description":"Reservation not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/rooms":{"get":{"tags":["Rooms"],"summary":"Get list of all rooms","operationId":"e0ad633b2dc6da48b289ee4f062abf31","responses":{"200":{"description":"Return List of all rooms"}},"security":[{"JWT":[]}]},"post":{"tags":["Rooms"],"summary":"Save room on database","operationId":"dc11a19fd2d3193a6f5193895254c429","requestBody":{"description":"Room to insert on database","required":true,"content":{"application\/json":{"schema":{"required":["number","status","price","description"],"properties":{"number":{"type":"string","example":"101"},"status":{"type":"integer","example":"0"},"price":{"type":"double","example":"100.1"},"description":{"type":"string","example":"2 beds and 1 bathroom"}},"type":"object"}}}},"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"\/api\/rooms\/occupied":{"get":{"tags":["Rooms"],"summary":"Get list of rooms that are not available.","operationId":"27b71e70a4118e9e44dc85d11924bf74","responses":{"200":{"description":"Return list of rooms."}},"security":[{"JWT":[]}]}},"\/api\/rooms\/available":{"get":{"tags":["Rooms"],"summary":"Get list of rooms that are available.","operationId":"4d7da18b27ce178fef3b690b13ee96f0","responses":{"200":{"description":"Return list of rooms."}},"security":[{"JWT":[]}]}},"\/api\/rooms\/status\/{status}":{"get":{"tags":["Rooms"],"summary":"Get list of all rooms by status","operationId":"8fabf2a898e93e8f8d2c51fb2d14c7ef","parameters":[{"name":"status","in":"path","description":"Status to search","required":true,"schema":{"type":"string","enum":["Available","Occupied","Cleaning"]}}],"responses":{"200":{"description":"Return List of all rooms"}},"security":[{"JWT":[]}]}},"\/api\/rooms\/{number}":{"get":{"tags":["Rooms"],"summary":"Get data for room number.","operationId":"beb0795ea36030d3a4453c5161ccdc0b","parameters":[{"name":"number","in":"path","description":"Number of rooms to show","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Rooms information.","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]},"put":{"tags":["Rooms"],"summary":"Update room information","operationId":"2c5ca970e16cf26d119b30e2910e1b8d","parameters":[{"name":"number","in":"path","description":"Number of room to update","required":true,"schema":{"type":"number"}}],"requestBody":{"description":"Data to the room","required":false,"content":{"application\/x-www-form-urlencoded":{"schema":{"properties":{"status":{"type":"integer","example":"1"},"price":{"type":"double","example":"120.1"},"description":{"type":"string","example":"2 beds and 1 bathroom"}},"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/rooms\/delete\/{number}":{"delete":{"tags":["Rooms"],"summary":"Delete a room","operationId":"9ef9471cb98e44ddd80e933044a46cf4","parameters":[{"name":"number","in":"path","description":"Number of room to delete","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Room deleted.","content":{"application\/json":{"schema":{}}}},"404":{"description":"Room not found","content":{"application\/json":{"schema":{}}}}},"security":[{"JWT":[]}]}},"\/api\/user":{"get":{"tags":["User"],"summary":"Get authenticated user information","operationId":"99aeeff72b09be760971e014bbe5b3e5","responses":{"200":{"description":"Return user information"}},"security":[{"JWT":[]}]}}},"components":{"responses":{"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"properties":{"message":{"type":"string","example":""}},"type":"object"}}}}},"securitySchemes":{"JWT":{"type":"http","description":"Use \/auth\/login to get JWT token","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT","securityScheme":"bearerAuth"}}}}